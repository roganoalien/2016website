!function(root,factory){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=factory(root,document):"function"==typeof define&&define.amd?define(null,function(){factory(root,document)}):root.plyr=factory(root,document)}("undefined"!=typeof window?window:this,function(window,document){"use strict";function _browserSniff(){var nameOffset,verOffset,ix,ua=navigator.userAgent,name=navigator.appName,fullVersion=""+parseFloat(navigator.appVersion),majorVersion=parseInt(navigator.appVersion,10),isIE=!1,isFirefox=!1,isChrome=!1,isSafari=!1;return-1!==navigator.appVersion.indexOf("Windows NT")&&-1!==navigator.appVersion.indexOf("rv:11")?(isIE=!0,name="IE",fullVersion="11;"):-1!==(verOffset=ua.indexOf("MSIE"))?(isIE=!0,name="IE",fullVersion=ua.substring(verOffset+5)):-1!==(verOffset=ua.indexOf("Chrome"))?(isChrome=!0,name="Chrome",fullVersion=ua.substring(verOffset+7)):-1!==(verOffset=ua.indexOf("Safari"))?(isSafari=!0,name="Safari",fullVersion=ua.substring(verOffset+7),-1!==(verOffset=ua.indexOf("Version"))&&(fullVersion=ua.substring(verOffset+8))):-1!==(verOffset=ua.indexOf("Firefox"))?(isFirefox=!0,name="Firefox",fullVersion=ua.substring(verOffset+8)):(nameOffset=ua.lastIndexOf(" ")+1)<(verOffset=ua.lastIndexOf("/"))&&(name=ua.substring(nameOffset,verOffset),fullVersion=ua.substring(verOffset+1),name.toLowerCase()==name.toUpperCase()&&(name=navigator.appName)),-1!==(ix=fullVersion.indexOf(";"))&&(fullVersion=fullVersion.substring(0,ix)),-1!==(ix=fullVersion.indexOf(" "))&&(fullVersion=fullVersion.substring(0,ix)),majorVersion=parseInt(""+fullVersion,10),isNaN(majorVersion)&&(fullVersion=""+parseFloat(navigator.appVersion),majorVersion=parseInt(navigator.appVersion,10)),{name:name,version:majorVersion,isIE:isIE,isFirefox:isFirefox,isChrome:isChrome,isSafari:isSafari,ios:/(iPad|iPhone|iPod)/g.test(navigator.platform),touch:"ontouchstart"in document.documentElement}}function _supportMime(plyr,mimeType){var media=plyr.media;if("video"==plyr.type)switch(mimeType){case"video/webm":return!(!media.canPlayType||!media.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/no/,""));case"video/mp4":return!(!media.canPlayType||!media.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"').replace(/no/,""));case"video/ogg":return!(!media.canPlayType||!media.canPlayType('video/ogg; codecs="theora"').replace(/no/,""))}else if("audio"==plyr.type)switch(mimeType){case"audio/mpeg":return!(!media.canPlayType||!media.canPlayType("audio/mpeg;").replace(/no/,""));case"audio/ogg":return!(!media.canPlayType||!media.canPlayType('audio/ogg; codecs="vorbis"').replace(/no/,""));case"audio/wav":return!(!media.canPlayType||!media.canPlayType('audio/wav; codecs="1"').replace(/no/,""))}return!1}function _injectScript(source){if(!document.querySelectorAll('script[src="'+source+'"]').length){var tag=document.createElement("script");tag.src=source;var firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag)}}function _inArray(haystack,needle){return Array.prototype.indexOf&&-1!=haystack.indexOf(needle)}function _replaceAll(string,find,replace){return string.replace(new RegExp(find.replace(/([.*+?\^=!:${}()|\[\]\/\\])/g,"\\$1"),"g"),replace)}function _wrap(elements,wrapper){elements.length||(elements=[elements]);for(var i=elements.length-1;i>=0;i--){var child=i>0?wrapper.cloneNode(!0):wrapper,element=elements[i],parent=element.parentNode,sibling=element.nextSibling;return child.appendChild(element),sibling?parent.insertBefore(child,sibling):parent.appendChild(child),child}}function _unwrap(wrapper){for(var parent=wrapper.parentNode;wrapper.firstChild;)parent.insertBefore(wrapper.firstChild,wrapper);parent.removeChild(wrapper)}function _remove(element){element&&element.parentNode.removeChild(element)}function _prependChild(parent,element){parent.insertBefore(element,parent.firstChild)}function _setAttributes(element,attributes){for(var key in attributes)element.setAttribute(key,"boolean"==typeof attributes[key]&&attributes[key]?"":attributes[key])}function _insertElement(type,parent,attributes){var element=document.createElement(type);_setAttributes(element,attributes),_prependChild(parent,element)}function _getClassname(selector){return selector.replace(".","")}function _toggleClass(element,className,state){if(element)if(element.classList)element.classList[state?"add":"remove"](className);else{var name=(" "+element.className+" ").replace(/\s+/g," ").replace(" "+className+" ","");element.className=name+(state?" "+className:"")}}function _hasClass(element,className){return element?element.classList?element.classList.contains(className):new RegExp("(\\s|^)"+className+"(\\s|$)").test(element.className):!1}function _matches(element,selector){var p=Element.prototype,f=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.msMatchesSelector||function(s){return-1!==[].indexOf.call(document.querySelectorAll(s),this)};return f.call(element,selector)}function _on(element,events,callback,useCapture){element&&_toggleListener(element,events,callback,!0,useCapture)}function _off(element,events,callback,useCapture){element&&_toggleListener(element,events,callback,!1,useCapture)}function _proxyListener(element,eventName,userListener,defaultListener,useCapture){_on(element,eventName,function(event){userListener&&userListener.apply(element,[event]),defaultListener.apply(element,[event])},useCapture)}function _toggleListener(element,events,callback,toggle,useCapture){var eventList=events.split(" ");if("boolean"!=typeof useCapture&&(useCapture=!1),element instanceof NodeList)for(var x=0;x<element.length;x++)element[x]instanceof Node&&_toggleListener(element[x],arguments[1],arguments[2],arguments[3]);else for(var i=0;i<eventList.length;i++)element[toggle?"addEventListener":"removeEventListener"](eventList[i],callback,useCapture)}function _triggerEvent(element,eventName,bubbles,properties){if(element&&eventName){"boolean"!=typeof bubbles&&(bubbles=!1);var event=new CustomEvent(eventName,{bubbles:bubbles,detail:properties});element.dispatchEvent(event)}}function _toggleState(target,state){return target?(state="boolean"==typeof state?state:!target.getAttribute("aria-pressed"),target.setAttribute("aria-pressed",state),state):void 0}function _getPercentage(current,max){return 0===current||0===max||isNaN(current)||isNaN(max)?0:(current/max*100).toFixed(2)}function _extend(){var objects=arguments;if(objects.length){if(1==objects.lenth)return objects[0];for(var destination=Array.prototype.shift.call(objects),length=objects.length,i=0;length>i;i++){var source=objects[i];for(var property in source)source[property]&&source[property].constructor&&source[property].constructor===Object?(destination[property]=destination[property]||{},_extend(destination[property],source[property])):destination[property]=source[property]}return destination}}function _fullscreen(){var fullscreen={supportsFullScreen:!1,isFullScreen:function(){return!1},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",element:null,prefix:""},browserPrefixes="webkit moz o ms khtml".split(" ");if("undefined"!=typeof document.cancelFullScreen)fullscreen.supportsFullScreen=!0;else for(var i=0,il=browserPrefixes.length;il>i;i++){if(fullscreen.prefix=browserPrefixes[i],"undefined"!=typeof document[fullscreen.prefix+"CancelFullScreen"]){fullscreen.supportsFullScreen=!0;break}if("undefined"!=typeof document.msExitFullscreen&&document.msFullscreenEnabled){fullscreen.prefix="ms",fullscreen.supportsFullScreen=!0;break}}return fullscreen.supportsFullScreen&&(fullscreen.fullScreenEventName="ms"==fullscreen.prefix?"MSFullscreenChange":fullscreen.prefix+"fullscreenchange",fullscreen.isFullScreen=function(element){switch("undefined"==typeof element&&(element=document.body),this.prefix){case"":return document.fullscreenElement==element;case"moz":return document.mozFullScreenElement==element;default:return document[this.prefix+"FullscreenElement"]==element}},fullscreen.requestFullScreen=function(element){return"undefined"==typeof element&&(element=document.body),""===this.prefix?element.requestFullScreen():element[this.prefix+("ms"==this.prefix?"RequestFullscreen":"RequestFullScreen")]()},fullscreen.cancelFullScreen=function(){return""===this.prefix?document.cancelFullScreen():document[this.prefix+("ms"==this.prefix?"ExitFullscreen":"CancelFullScreen")]()},fullscreen.element=function(){return""===this.prefix?document.fullscreenElement:document[this.prefix+"FullscreenElement"]}),fullscreen}function _storage(){var storage={supported:function(){if(!("localStorage"in window))return!1;try{window.localStorage.setItem("___test","OK");var result=window.localStorage.getItem("___test");return window.localStorage.removeItem("___test"),"OK"===result}catch(e){return!1}return!1}()};return storage}function Plyr(container,config){function _log(text,warn){config.debug&&window.console&&console[warn?"warn":"log"](text)}function _getIconUrl(){return{url:config.iconUrl,external:0===config.iconUrl.indexOf("http")}}function _buildControls(){var html=[],iconUrl=_getIconUrl(),iconPath=(iconUrl.external?"":iconUrl.url)+"#"+config.iconPrefix;return _inArray(config.controls,"play-large")&&html.push('<button type="button" data-plyr="play" class="plyr__play-large">','<svg><use xlink:href="'+iconPath+'-play" /></svg>','<span class="plyr__sr-only">'+config.i18n.play+"</span>","</button>"),html.push('<div class="plyr__controls">'),_inArray(config.controls,"restart")&&html.push('<button type="button" data-plyr="restart">','<svg><use xlink:href="'+iconPath+'-restart" /></svg>','<span class="plyr__sr-only">'+config.i18n.restart+"</span>","</button>"),_inArray(config.controls,"rewind")&&html.push('<button type="button" data-plyr="rewind">','<svg><use xlink:href="'+iconPath+'-rewind" /></svg>','<span class="plyr__sr-only">'+config.i18n.rewind+"</span>","</button>"),_inArray(config.controls,"play")&&html.push('<button type="button" data-plyr="play">','<svg><use xlink:href="'+iconPath+'-play" /></svg>','<span class="plyr__sr-only">'+config.i18n.play+"</span>","</button>",'<button type="button" data-plyr="pause">','<svg><use xlink:href="'+iconPath+'-pause" /></svg>','<span class="plyr__sr-only">'+config.i18n.pause+"</span>","</button>"),_inArray(config.controls,"fast-forward")&&html.push('<button type="button" data-plyr="fast-forward">','<svg><use xlink:href="'+iconPath+'-fast-forward" /></svg>','<span class="plyr__sr-only">'+config.i18n.forward+"</span>","</button>"),_inArray(config.controls,"progress")&&(html.push('<span class="plyr__progress">','<label for="seek{id}" class="plyr__sr-only">Seek</label>','<input id="seek{id}" class="plyr__progress--seek" type="range" min="0" max="100" step="0.1" value="0" data-plyr="seek">','<progress class="plyr__progress--played" max="100" value="0" role="presentation"></progress>','<progress class="plyr__progress--buffer" max="100" value="0">',"<span>0</span>% "+config.i18n.buffered,"</progress>"),config.tooltips.seek&&html.push('<span class="plyr__tooltip">00:00</span>'),html.push("</span>")),_inArray(config.controls,"current-time")&&html.push('<span class="plyr__time">','<span class="plyr__sr-only">'+config.i18n.currentTime+"</span>",'<span class="plyr__time--current">00:00</span>',"</span>"),_inArray(config.controls,"duration")&&html.push('<span class="plyr__time">','<span class="plyr__sr-only">'+config.i18n.duration+"</span>",'<span class="plyr__time--duration">00:00</span>',"</span>"),_inArray(config.controls,"mute")&&html.push('<button type="button" data-plyr="mute">','<svg class="icon--muted"><use xlink:href="'+iconPath+'-muted" /></svg>','<svg><use xlink:href="'+iconPath+'-volume" /></svg>','<span class="plyr__sr-only">'+config.i18n.toggleMute+"</span>","</button>"),_inArray(config.controls,"volume")&&html.push('<span class="plyr__volume">','<label for="volume{id}" class="plyr__sr-only">'+config.i18n.volume+"</label>",'<input id="volume{id}" class="plyr__volume--input" type="range" min="'+config.volumeMin+'" max="'+config.volumeMax+'" value="'+config.volume+'" data-plyr="volume">','<progress class="plyr__volume--display" max="'+config.volumeMax+'" value="'+config.volumeMin+'" role="presentation"></progress>',"</span>"),_inArray(config.controls,"captions")&&html.push('<button type="button" data-plyr="captions">','<svg class="icon--captions-on"><use xlink:href="'+iconPath+'-captions-on" /></svg>','<svg><use xlink:href="'+iconPath+'-captions-off" /></svg>','<span class="plyr__sr-only">'+config.i18n.toggleCaptions+"</span>","</button>"),_inArray(config.controls,"fullscreen")&&html.push('<button type="button" data-plyr="fullscreen">','<svg class="icon--exit-fullscreen"><use xlink:href="'+iconPath+'-exit-fullscreen" /></svg>','<svg><use xlink:href="'+iconPath+'-enter-fullscreen" /></svg>','<span class="plyr__sr-only">'+config.i18n.toggleFullscreen+"</span>","</button>"),html.push("</div>"),html.join("")}function _setupFullscreen(){if(plyr.supported.full&&("audio"!=plyr.type||config.fullscreen.allowAudio)&&config.fullscreen.enabled){var nativeSupport=fullscreen.supportsFullScreen;nativeSupport||config.fullscreen.fallback&&!_inFrame()?(_log((nativeSupport?"Native":"Fallback")+" fullscreen enabled"),_toggleClass(plyr.container,config.classes.fullscreen.enabled,!0)):_log("Fullscreen not supported and fallback disabled"),_toggleState(plyr.buttons.fullscreen,!1),_focusTrap()}}function _setupCaptions(){if("video"===plyr.type){_getElement(config.selectors.captions)||plyr.videoContainer.insertAdjacentHTML("afterbegin",'<div class="'+_getClassname(config.selectors.captions)+'"></div>'),plyr.usingTextTracks=!1,plyr.media.textTracks&&(plyr.usingTextTracks=!0);for(var kind,captionSrc="",children=plyr.media.childNodes,i=0;i<children.length;i++)"track"===children[i].nodeName.toLowerCase()&&(kind=children[i].kind,("captions"===kind||"subtitles"===kind)&&(captionSrc=children[i].getAttribute("src")));if(plyr.captionExists=!0,""===captionSrc?(plyr.captionExists=!1,_log("No caption track found")):_log("Caption track found; URI: "+captionSrc),plyr.captionExists){for(var tracks=plyr.media.textTracks,x=0;x<tracks.length;x++)tracks[x].mode="hidden";if(_showCaptions(plyr),(plyr.browser.isIE&&plyr.browser.version>=10||plyr.browser.isFirefox&&plyr.browser.version>=31)&&(_log("Detected browser with known TextTrack issues - using manual fallback"),plyr.usingTextTracks=!1),plyr.usingTextTracks){_log("TextTracks supported");for(var y=0;y<tracks.length;y++){var track=tracks[y];("captions"===track.kind||"subtitles"===track.kind)&&_on(track,"cuechange",function(){this.activeCues[0]&&"text"in this.activeCues[0]?_setCaption(this.activeCues[0].getCueAsHTML()):_setCaption()})}}else if(_log("TextTracks not supported so rendering captions manually"),plyr.currentCaption="",plyr.captions=[],""!==captionSrc){var xhr=new XMLHttpRequest;xhr.onreadystatechange=function(){if(4===xhr.readyState)if(200===xhr.status){var caption,captions=[],req=xhr.responseText;captions=req.split("\n\n");for(var r=0;r<captions.length;r++){caption=captions[r],plyr.captions[r]=[];var parts=caption.split("\n"),index=0;-1===parts[index].indexOf(":")&&(index=1),plyr.captions[r]=[parts[index],parts[index+1]]}plyr.captions.shift(),_log("Successfully loaded the caption file via AJAX")}else _log("There was a problem loading the caption file via AJAX",!0)},xhr.open("get",captionSrc,!0),xhr.send()}}else _toggleClass(plyr.container,config.classes.captions.enabled)}}function _setCaption(caption){var container=_getElement(config.selectors.captions),content=document.createElement("span");container.innerHTML="","undefined"==typeof caption&&(caption=""),"string"==typeof caption?content.innerHTML=caption.trim():content.appendChild(caption),container.appendChild(content);container.offsetHeight}function _seekManualCaptions(time){function _timecodeCommon(tc,pos){var tcpair=[];tcpair=tc.split(" --> ");for(var i=0;i<tcpair.length;i++)tcpair[i]=tcpair[i].replace(/(\d+:\d+:\d+\.\d+).*/,"$1");return _subTcSecs(tcpair[pos])}function _timecodeMin(tc){return _timecodeCommon(tc,0)}function _timecodeMax(tc){return _timecodeCommon(tc,1)}function _subTcSecs(tc){if(null===tc||void 0===tc)return 0;var seconds,tc1=[],tc2=[];return tc1=tc.split(","),tc2=tc1[0].split(":"),seconds=Math.floor(60*tc2[0]*60)+Math.floor(60*tc2[1])+Math.floor(tc2[2])}if(!plyr.usingTextTracks&&"video"===plyr.type&&plyr.supported.full&&(plyr.subcount=0,time="number"==typeof time?time:plyr.media.currentTime,plyr.captions[plyr.subcount])){for(;_timecodeMax(plyr.captions[plyr.subcount][0])<time.toFixed(1);)if(plyr.subcount++,plyr.subcount>plyr.captions.length-1){plyr.subcount=plyr.captions.length-1;break}plyr.media.currentTime.toFixed(1)>=_timecodeMin(plyr.captions[plyr.subcount][0])&&plyr.media.currentTime.toFixed(1)<=_timecodeMax(plyr.captions[plyr.subcount][0])?(plyr.currentCaption=plyr.captions[plyr.subcount][1],_setCaption(plyr.currentCaption)):_setCaption()}}function _showCaptions(){plyr.buttons.captions&&(_toggleClass(plyr.container,config.classes.captions.enabled,!0),config.captions.defaultActive&&(_toggleClass(plyr.container,config.classes.captions.active,!0),_toggleState(plyr.buttons.captions,!0)))}function _getElements(selector){return plyr.container.querySelectorAll(selector)}function _getElement(selector){return _getElements(selector)[0]}function _inFrame(){try{return window.self!==window.top}catch(e){return!0}}function _focusTrap(){function _checkFocus(event){9===event.which&&plyr.isFullscreen&&(event.target!==last||event.shiftKey?event.target===first&&event.shiftKey&&(event.preventDefault(),last.focus()):(event.preventDefault(),first.focus()))}var tabbables=_getElements("input:not([disabled]), button:not([disabled])"),first=tabbables[0],last=tabbables[tabbables.length-1];_on(plyr.container,"keydown",_checkFocus)}function _insertChildElements(type,attributes){if("string"==typeof attributes)_insertElement(type,plyr.media,{src:attributes});else if(attributes.constructor===Array)for(var i=attributes.length-1;i>=0;i--)_insertElement(type,plyr.media,attributes[i])}function _injectControls(){if(config.loadSprite){var iconUrl=_getIconUrl(),isExternal=iconUrl.external;isExternal||plyr.browser.isIE?(_log("AJAX loading external SVG sprite"+(plyr.browser.isIE?" (due to IE)":"")),loadSprite(iconUrl.url,"sprite-plyr")):_log("Sprite will be used as external resource directly")}var html=config.html;_log("Injecting custom controls"),html||(html=_buildControls()),html=_replaceAll(html,"{seektime}",config.seekTime),html=_replaceAll(html,"{id}",Math.floor(1e4*Math.random()));var container;if(null!==config.selectors.controls.container&&(container=config.selectors.controls.container,"string"==typeof selector&&(container=document.querySelector(container))),container instanceof HTMLElement||(container=plyr.container),container.insertAdjacentHTML("beforeend",html),config.tooltips.controls)for(var labels=_getElements([config.selectors.controls.wrapper," ",config.selectors.labels," .",config.classes.hidden].join("")),i=labels.length-1;i>=0;i--){var label=labels[i];_toggleClass(label,config.classes.hidden,!1),_toggleClass(label,config.classes.tooltip,!0)}}function _findElements(){try{return plyr.controls=_getElement(config.selectors.controls.wrapper),plyr.buttons={},plyr.buttons.seek=_getElement(config.selectors.buttons.seek),plyr.buttons.play=_getElements(config.selectors.buttons.play),plyr.buttons.pause=_getElement(config.selectors.buttons.pause),plyr.buttons.restart=_getElement(config.selectors.buttons.restart),plyr.buttons.rewind=_getElement(config.selectors.buttons.rewind),plyr.buttons.forward=_getElement(config.selectors.buttons.forward),plyr.buttons.fullscreen=_getElement(config.selectors.buttons.fullscreen),plyr.buttons.mute=_getElement(config.selectors.buttons.mute),plyr.buttons.captions=_getElement(config.selectors.buttons.captions),plyr.progress={},plyr.progress.container=_getElement(config.selectors.progress.container),plyr.progress.buffer={},plyr.progress.buffer.bar=_getElement(config.selectors.progress.buffer),plyr.progress.buffer.text=plyr.progress.buffer.bar&&plyr.progress.buffer.bar.getElementsByTagName("span")[0],plyr.progress.played=_getElement(config.selectors.progress.played),plyr.progress.tooltip=plyr.progress.container&&plyr.progress.container.querySelector("."+config.classes.tooltip),plyr.volume={},plyr.volume.input=_getElement(config.selectors.volume.input),plyr.volume.display=_getElement(config.selectors.volume.display),plyr.duration=_getElement(config.selectors.duration),plyr.currentTime=_getElement(config.selectors.currentTime),plyr.seekTime=_getElements(config.selectors.seekTime),!0}catch(e){return _log("It looks like there is a problem with your controls html",!0),_toggleNativeControls(!0),!1}}function _toggleStyleHook(){_toggleClass(plyr.container,config.selectors.container.replace(".",""),plyr.supported.full)}function _toggleNativeControls(toggle){toggle?plyr.media.setAttribute("controls",""):plyr.media.removeAttribute("controls")}function _setTitle(iframe){var label=config.i18n.play;if("undefined"!=typeof config.title&&config.title.length&&(label+=", "+config.title),plyr.supported.full&&plyr.buttons.play)for(var i=plyr.buttons.play.length-1;i>=0;i--)plyr.buttons.play[i].setAttribute("aria-label",label);iframe instanceof HTMLElement&&iframe.setAttribute("title",config.i18n.frameTitle.replace("{title}",config.title))}function _setupMedia(){if(!plyr.media)return _log("No audio or video element found",!0),!1;if(plyr.supported.full&&(_toggleClass(plyr.container,config.classes.type.replace("{0}",plyr.type),!0),_inArray(config.types.embed,plyr.type)&&_toggleClass(plyr.container,config.classes.type.replace("{0}","video"),!0),_toggleClass(plyr.container,config.classes.stopped,config.autoplay),_toggleClass(plyr.container,config.classes.isIos,plyr.browser.ios),_toggleClass(plyr.container,config.classes.isTouch,plyr.browser.touch),"video"===plyr.type)){var wrapper=document.createElement("div");wrapper.setAttribute("class",config.classes.videoWrapper),_wrap(plyr.media,wrapper),plyr.videoContainer=wrapper}_inArray(config.types.embed,plyr.type)&&(_setupEmbed(),plyr.embedId=null)}function _setupEmbed(){for(var container=document.createElement("div"),mediaId=plyr.embedId,id=plyr.type+"-"+Math.floor(1e4*Math.random()),containers=_getElements('[id^="'+plyr.type+'-"]'),i=containers.length-1;i>=0;i--)_remove(containers[i]);if(_toggleClass(plyr.media,config.classes.videoWrapper,!0),_toggleClass(plyr.media,config.classes.embedWrapper,!0),"youtube"===plyr.type)plyr.media.appendChild(container),container.setAttribute("id",id),"object"==typeof YT?_youTubeReady(mediaId,container):(_injectScript(config.urls.youtube.api),window.onYouTubeReadyCallbacks=window.onYouTubeReadyCallbacks||[],window.onYouTubeReadyCallbacks.push(function(){_youTubeReady(mediaId,container)}),window.onYouTubeIframeAPIReady=function(){window.onYouTubeReadyCallbacks.forEach(function(callback){callback()})});else if("vimeo"===plyr.type){var vimeo=document.createElement("iframe");vimeo.loaded=!1,_on(vimeo,"load",function(){vimeo.loaded=!0}),_setAttributes(vimeo,{src:"https://player.vimeo.com/video/"+mediaId+"?player_id="+id+"&api=1&badge=0&byline=0&portrait=0&title=0",id:id,allowfullscreen:"",frameborder:0}),plyr.supported.full?(container.appendChild(vimeo),plyr.media.appendChild(container)):plyr.media.appendChild(vimeo),"$f"in window||_injectScript(config.urls.vimeo.api);var vimeoTimer=window.setInterval(function(){"$f"in window&&vimeo.loaded&&(window.clearInterval(vimeoTimer),_vimeoReady.call(vimeo))},50)}else if("soundcloud"===plyr.type){var soundCloud=document.createElement("iframe");soundCloud.loaded=!1,_on(soundCloud,"load",function(){soundCloud.loaded=!0}),_setAttributes(soundCloud,{src:"https://w.soundcloud.com/player/?url=https://api.soundcloud.com/tracks/"+mediaId,id:id}),container.appendChild(soundCloud),plyr.media.appendChild(container),window.SC||_injectScript(config.urls.soundcloud.api);var soundCloudTimer=window.setInterval(function(){window.SC&&soundCloud.loaded&&(window.clearInterval(soundCloudTimer),_soundcloudReady.call(soundCloud))},50)}}function _embedReady(){plyr.container.plyr.embed=plyr.embed,_setupInterface(),_setTitle(_getElement("iframe"))}function _youTubeReady(videoId,container){"timer"in plyr||(plyr.timer={}),plyr.embed=new YT.Player(container.id,{videoId:videoId,playerVars:{autoplay:config.autoplay?1:0,controls:plyr.supported.full?0:1,rel:0,showinfo:0,iv_load_policy:3,cc_load_policy:config.captions.defaultActive?1:0,cc_lang_pref:"en",wmode:"transparent",modestbranding:1,disablekb:1,origin:"*"},events:{onError:function(event){_triggerEvent(plyr.container,"error",!0,{code:event.data,embed:event.target})},onReady:function(event){var instance=event.target;plyr.media.play=function(){instance.playVideo(),plyr.media.paused=!1},plyr.media.pause=function(){instance.pauseVideo(),plyr.media.paused=!0},plyr.media.stop=function(){instance.stopVideo(),plyr.media.paused=!0},plyr.media.duration=instance.getDuration(),plyr.media.paused=!0,plyr.media.currentTime=instance.getCurrentTime(),plyr.media.muted=instance.isMuted(),config.title=instance.getVideoData().title,_triggerEvent(plyr.media,"timeupdate"),window.clearInterval(plyr.timer.buffering),plyr.timer.buffering=window.setInterval(function(){plyr.media.buffered=instance.getVideoLoadedFraction(),_triggerEvent(plyr.media,"progress"),1===plyr.media.buffered&&(window.clearInterval(plyr.timer.buffering),_triggerEvent(plyr.media,"canplaythrough"))},200),_embedReady(),_displayDuration()},onStateChange:function(event){var instance=event.target;switch(window.clearInterval(plyr.timer.playing),event.data){case 0:plyr.media.paused=!0,_triggerEvent(plyr.media,"ended");break;case 1:plyr.media.paused=!1,plyr.media.seeking=!1,_triggerEvent(plyr.media,"play"),_triggerEvent(plyr.media,"playing"),plyr.timer.playing=window.setInterval(function(){plyr.media.currentTime=instance.getCurrentTime(),_triggerEvent(plyr.media,"timeupdate")},100);break;case 2:plyr.media.paused=!0,_triggerEvent(plyr.media,"pause")}_triggerEvent(plyr.container,"statechange",!1,{code:event.data})}}})}function _vimeoReady(){plyr.embed=$f(this),plyr.embed.addEvent("ready",function(){plyr.media.play=function(){plyr.embed.api("play"),plyr.media.paused=!1},plyr.media.pause=function(){plyr.embed.api("pause"),plyr.media.paused=!0},plyr.media.stop=function(){plyr.embed.api("stop"),plyr.media.paused=!0},plyr.media.paused=!0,plyr.media.currentTime=0,_embedReady(),plyr.embed.api("getCurrentTime",function(value){plyr.media.currentTime=value,_triggerEvent(plyr.media,"timeupdate")}),plyr.embed.api("getDuration",function(value){plyr.media.duration=value,_displayDuration()}),plyr.embed.addEvent("play",function(){plyr.media.paused=!1,_triggerEvent(plyr.media,"play"),_triggerEvent(plyr.media,"playing")}),plyr.embed.addEvent("pause",function(){plyr.media.paused=!0,_triggerEvent(plyr.media,"pause")}),plyr.embed.addEvent("playProgress",function(data){plyr.media.seeking=!1,plyr.media.currentTime=data.seconds,_triggerEvent(plyr.media,"timeupdate")}),plyr.embed.addEvent("loadProgress",function(data){plyr.media.buffered=data.percent,_triggerEvent(plyr.media,"progress"),1===parseInt(data.percent)&&_triggerEvent(plyr.media,"canplaythrough")}),plyr.embed.addEvent("finish",function(){plyr.media.paused=!0,_triggerEvent(plyr.media,"ended")}),config.autoplay&&plyr.embed.api("play")})}function _soundcloudReady(){plyr.embed=window.SC.Widget(this),plyr.embed.bind(window.SC.Widget.Events.READY,function(){plyr.media.play=function(){plyr.embed.play(),plyr.media.paused=!1},plyr.media.pause=function(){plyr.embed.pause(),plyr.media.paused=!0},plyr.media.stop=function(){plyr.embed.seekTo(0),plyr.embed.pause(),plyr.media.paused=!0},plyr.media.paused=!0,plyr.media.currentTime=0,_embedReady(),plyr.embed.getPosition(function(value){plyr.media.currentTime=value,_triggerEvent(plyr.media,"timeupdate")}),plyr.embed.getDuration(function(value){plyr.media.duration=value/1e3,_displayDuration()}),plyr.embed.bind(window.SC.Widget.Events.PLAY,function(){plyr.media.paused=!1,_triggerEvent(plyr.media,"play"),_triggerEvent(plyr.media,"playing")}),plyr.embed.bind(window.SC.Widget.Events.PAUSE,function(){plyr.media.paused=!0,_triggerEvent(plyr.media,"pause")}),plyr.embed.bind(window.SC.Widget.Events.PLAY_PROGRESS,function(data){plyr.media.seeking=!1,plyr.media.currentTime=data.currentPosition/1e3,_triggerEvent(plyr.media,"timeupdate")}),plyr.embed.bind(window.SC.Widget.Events.LOAD_PROGRESS,function(data){plyr.media.buffered=data.loadProgress,_triggerEvent(plyr.media,"progress"),1===parseInt(data.loadProgress)&&_triggerEvent(plyr.media,"canplaythrough")}),plyr.embed.bind(window.SC.Widget.Events.FINISH,function(){plyr.media.paused=!0,_triggerEvent(plyr.media,"ended")}),config.autoplay&&plyr.embed.play()})}function _play(){"play"in plyr.media&&plyr.media.play()}function _pause(){"pause"in plyr.media&&plyr.media.pause()}function _togglePlay(toggle){toggle===!0?_play():toggle===!1?_pause():plyr.media[plyr.media.paused?"play":"pause"]()}function _rewind(seekTime){"number"!=typeof seekTime&&(seekTime=config.seekTime),_seek(plyr.media.currentTime-seekTime)}function _forward(seekTime){"number"!=typeof seekTime&&(seekTime=config.seekTime),_seek(plyr.media.currentTime+seekTime)}function _seek(input){var targetTime=0,paused=plyr.media.paused,duration=_getDuration();"number"==typeof input?targetTime=input:"object"!=typeof input||"input"!==input.type&&"change"!==input.type||(targetTime=input.target.value/input.target.max*duration),0>targetTime?targetTime=0:targetTime>duration&&(targetTime=duration),_updateSeekDisplay(targetTime);try{plyr.media.currentTime=targetTime.toFixed(4)}catch(e){}if(_inArray(config.types.embed,plyr.type)){switch(plyr.type){case"youtube":plyr.embed.seekTo(targetTime);break;case"vimeo":plyr.embed.api("seekTo",targetTime.toFixed(0));break;case"soundcloud":plyr.embed.seekTo(1e3*targetTime)}paused&&_pause(),_triggerEvent(plyr.media,"timeupdate"),plyr.media.seeking=!0}_log("Seeking to "+plyr.media.currentTime+" seconds"),_seekManualCaptions(targetTime)}function _getDuration(){var duration=parseInt(config.duration),mediaDuration=0;return null===plyr.media.duration||isNaN(plyr.media.duration)||(mediaDuration=plyr.media.duration),isNaN(duration)?mediaDuration:duration}function _checkPlaying(){_toggleClass(plyr.container,config.classes.playing,!plyr.media.paused),_toggleClass(plyr.container,config.classes.stopped,plyr.media.paused),_toggleControls(plyr.media.paused)}function _saveScrollPosition(){scroll={x:window.pageXOffset||0,y:window.pageYOffset||0}}function _restoreScrollPosition(){window.scrollTo(scroll.x,scroll.y)}function _toggleFullscreen(event){var nativeSupport=fullscreen.supportsFullScreen;event&&event.type===fullscreen.fullScreenEventName?plyr.isFullscreen=fullscreen.isFullScreen(plyr.container):nativeSupport?(fullscreen.isFullScreen(plyr.container)?fullscreen.cancelFullScreen():(_saveScrollPosition(),fullscreen.requestFullScreen(plyr.container)),plyr.isFullscreen=fullscreen.isFullScreen(plyr.container)):(plyr.isFullscreen=!plyr.isFullscreen,plyr.isFullscreen?(_on(document,"keyup",_handleEscapeFullscreen),document.body.style.overflow="hidden"):(_off(document,"keyup",_handleEscapeFullscreen),document.body.style.overflow="")),_toggleClass(plyr.container,config.classes.fullscreen.active,plyr.isFullscreen),plyr.isFullscreen?plyr.container.setAttribute("tabindex","-1"):plyr.container.removeAttribute("tabindex"),_focusTrap(plyr.isFullscreen),_toggleState(plyr.buttons.fullscreen,plyr.isFullscreen),_triggerEvent(plyr.container,plyr.isFullscreen?"enterfullscreen":"exitfullscreen",!0),!plyr.isFullscreen&&nativeSupport&&_restoreScrollPosition()}function _handleEscapeFullscreen(event){27===(event.which||event.charCode||event.keyCode)&&plyr.isFullscreen&&_toggleFullscreen()}function _toggleMute(muted){if("boolean"!=typeof muted&&(muted=!plyr.media.muted),_toggleState(plyr.buttons.mute,muted),
plyr.media.muted=muted,0===plyr.media.volume&&_setVolume(config.volume),_inArray(config.types.embed,plyr.type)){switch(plyr.type){case"youtube":plyr.embed[plyr.media.muted?"mute":"unMute"]();break;case"vimeo":plyr.embed.api("setVolume",plyr.media.muted?0:parseFloat(config.volume/config.volumeMax));break;case"soundcloud":plyr.embed.setVolume(plyr.media.muted?0:parseFloat(config.volume/config.volumeMax))}_triggerEvent(plyr.media,"volumechange")}}function _setVolume(volume){var max=config.volumeMax,min=config.volumeMin;if("undefined"==typeof volume&&(volume=config.volume,config.storage.enabled&&_storage().supported&&(volume=window.localStorage.getItem(config.storage.key),window.localStorage.removeItem("plyr-volume"))),(null===volume||isNaN(volume))&&(volume=config.volume),volume>max&&(volume=max),min>volume&&(volume=min),plyr.media.volume=parseFloat(volume/max),plyr.volume.display&&(plyr.volume.display.value=volume),_inArray(config.types.embed,plyr.type)){switch(plyr.type){case"youtube":plyr.embed.setVolume(100*plyr.media.volume);break;case"vimeo":plyr.embed.api("setVolume",plyr.media.volume);break;case"soundcloud":plyr.embed.setVolume(plyr.media.volume)}_triggerEvent(plyr.media,"volumechange")}plyr.media.muted&&volume>0&&_toggleMute()}function _increaseVolume(){var volume=plyr.media.muted?0:plyr.media.volume*config.volumeMax;_setVolume(volume+config.volumeStep/5)}function _decreaseVolume(){var volume=plyr.media.muted?0:plyr.media.volume*config.volumeMax;_setVolume(volume-config.volumeStep/5)}function _updateVolume(){var volume=plyr.media.muted?0:plyr.media.volume*config.volumeMax;plyr.supported.full&&(plyr.volume.input&&(plyr.volume.input.value=volume),plyr.volume.display&&(plyr.volume.display.value=volume)),config.storage.enabled&&_storage().supported&&!isNaN(volume)&&window.localStorage.setItem(config.storage.key,volume),_toggleClass(plyr.container,config.classes.muted,0===volume),plyr.supported.full&&plyr.buttons.mute&&_toggleState(plyr.buttons.mute,0===volume)}function _toggleCaptions(show){plyr.supported.full&&plyr.buttons.captions&&("boolean"!=typeof show&&(show=-1===plyr.container.className.indexOf(config.classes.captions.active)),plyr.captionsEnabled=show,_toggleState(plyr.buttons.captions,plyr.captionsEnabled),_toggleClass(plyr.container,config.classes.captions.active,plyr.captionsEnabled),_triggerEvent(plyr.container,plyr.captionsEnabled?"captionsenabled":"captionsdisabled",!0))}function _checkLoading(event){var loading="waiting"===event.type;clearTimeout(plyr.timers.loading),plyr.timers.loading=setTimeout(function(){_toggleClass(plyr.container,config.classes.loading,loading)},loading?250:0)}function _updateProgress(event){if(plyr.supported.full){var progress=plyr.progress.played,value=0,duration=_getDuration();if(event)switch(event.type){case"timeupdate":case"seeking":value=_getPercentage(plyr.media.currentTime,duration),"timeupdate"==event.type&&plyr.buttons.seek&&(plyr.buttons.seek.value=value);break;case"playing":case"progress":progress=plyr.progress.buffer,value=function(){var buffered=plyr.media.buffered;return buffered&&buffered.length?_getPercentage(buffered.end(0),duration):"number"==typeof buffered?100*buffered:0}()}_setProgress(progress,value)}}function _setProgress(progress,value){if(plyr.supported.full){if("undefined"==typeof value&&(value=0),"undefined"==typeof progress){if(!plyr.progress||!plyr.progress.buffer)return;progress=plyr.progress.buffer}progress instanceof HTMLElement?progress.value=value:progress&&(progress.bar&&(progress.bar.value=value),progress.text&&(progress.text.innerHTML=value))}}function _updateTimeDisplay(time,element){if(element){isNaN(time)&&(time=0),plyr.secs=parseInt(time%60),plyr.mins=parseInt(time/60%60),plyr.hours=parseInt(time/60/60%60);var displayHours=parseInt(_getDuration()/60/60%60)>0;plyr.secs=("0"+plyr.secs).slice(-2),plyr.mins=("0"+plyr.mins).slice(-2),element.innerHTML=(displayHours?plyr.hours+":":"")+plyr.mins+":"+plyr.secs}}function _displayDuration(){if(plyr.supported.full){var duration=_getDuration()||0;!plyr.duration&&config.displayDuration&&plyr.media.paused&&_updateTimeDisplay(duration,plyr.currentTime),plyr.duration&&_updateTimeDisplay(duration,plyr.duration),_updateSeekTooltip()}}function _timeUpdate(event){_updateTimeDisplay(plyr.media.currentTime,plyr.currentTime),event&&"timeupdate"==event.type&&plyr.media.seeking||_updateProgress(event)}function _updateSeekDisplay(time){"number"!=typeof time&&(time=0);var duration=_getDuration(),value=_getPercentage(time,duration);plyr.progress&&plyr.progress.played&&(plyr.progress.played.value=value),plyr.buttons&&plyr.buttons.seek&&(plyr.buttons.seek.value=value)}function _updateSeekTooltip(event){var duration=_getDuration();if(config.tooltips.seek&&plyr.progress.container&&0!==duration){var clientRect=plyr.progress.container.getBoundingClientRect(),percent=0,visible=config.classes.tooltip+"--visible";if(event)percent=100/clientRect.width*(event.pageX-clientRect.left);else{if(!_hasClass(plyr.progress.tooltip,visible))return;percent=plyr.progress.tooltip.style.left.replace("%","")}0>percent?percent=0:percent>100&&(percent=100),_updateTimeDisplay(duration/100*percent,plyr.progress.tooltip),plyr.progress.tooltip.style.left=percent+"%",event&&_inArray(["mouseenter","mouseleave"],event.type)&&_toggleClass(plyr.progress.tooltip,visible,"mouseenter"===event.type)}}function _toggleControls(toggle){if(config.hideControls&&"audio"!==plyr.type){var delay=0,isEnterFullscreen=!1,show=toggle;if("boolean"!=typeof toggle&&(toggle&&toggle.type?(isEnterFullscreen="enterfullscreen"===toggle.type,show=_inArray(["mousemove","mouseenter","focus"],toggle.type),"mousemove"===toggle.type&&(delay=2e3),"focus"===toggle.type&&(delay=3e3)):show=!_hasClass(plyr.container,config.classes.hideControls)),window.clearTimeout(plyr.timers.hover),show||plyr.media.paused){if(_toggleClass(plyr.container,config.classes.hideControls,!1),plyr.media.paused)return;plyr.browser.touch&&(delay=3e3)}show&&plyr.media.paused||(plyr.timers.hover=window.setTimeout(function(){(!plyr.controls.active||isEnterFullscreen)&&_toggleClass(plyr.container,config.classes.hideControls,!0)},delay))}}function _source(source){if("undefined"!=typeof source)return void _updateSource(source);var url;switch(plyr.type){case"youtube":url=plyr.embed.getVideoUrl();break;case"vimeo":plyr.embed.api("getVideoUrl",function(value){url=value});break;case"soundcloud":plyr.embed.getCurrentSound(function(object){url=object.permalink_url});break;default:url=plyr.media.currentSrc}return url||""}function _updateSource(source){if(!("undefined"!=typeof source&&"sources"in source&&source.sources.length))return void _log("Invalid source format",!0);if(_pause(),_updateSeekDisplay(),_setProgress(),_cancelRequests(),"youtube"===plyr.type?(plyr.embed.destroy(),window.clearInterval(plyr.timer.buffering),window.clearInterval(plyr.timer.playing)):"video"===plyr.type&&plyr.videoContainer&&_remove(plyr.videoContainer),plyr.embed=null,_remove(plyr.media),"type"in source&&(plyr.type=source.type,"video"===plyr.type)){var firstSource=source.sources[0];"type"in firstSource&&_inArray(config.types.embed,firstSource.type)&&(plyr.type=firstSource.type)}switch(plyr.supported=supported(plyr.type),plyr.type){case"video":plyr.media=document.createElement("video");break;case"audio":plyr.media=document.createElement("audio");break;case"youtube":case"vimeo":case"soundcloud":plyr.media=document.createElement("div"),plyr.embedId=source.sources[0].src}_prependChild(plyr.container,plyr.media),"undefined"!=typeof source.autoplay&&(config.autoplay=source.autoplay),_inArray(config.types.html5,plyr.type)&&(config.crossorigin&&plyr.media.setAttribute("crossorigin",""),config.autoplay&&plyr.media.setAttribute("autoplay",""),"poster"in source&&plyr.media.setAttribute("poster",source.poster),config.loop&&plyr.media.setAttribute("loop","")),plyr.container.className=plyr.originalClassName,_toggleClass(plyr.container,config.classes.fullscreen.active,plyr.isFullscreen),_toggleClass(plyr.container,config.classes.captions.active,plyr.captionsEnabled),_toggleStyleHook(),_inArray(config.types.html5,plyr.type)&&_insertChildElements("source",source.sources),_setupMedia(),_inArray(config.types.html5,plyr.type)&&("tracks"in source&&_insertChildElements("track",source.tracks),plyr.media.load(),_setupInterface(),_displayDuration()),config.title=source.title,_setTitle(),plyr.container.plyr.media=plyr.media}function _updatePoster(source){"video"===plyr.type&&plyr.media.setAttribute("poster",source)}function _controlListeners(){function _togglePlay(){var play=plyr.media.paused;play?_play():_pause();var trigger=plyr.buttons[play?"play":"pause"],target=plyr.buttons[play?"pause":"play"];if(target=target&&target.length>1?target[target.length-1]:target[0]){var hadTabFocus=_hasClass(trigger,config.classes.tabFocus);setTimeout(function(){target.focus(),hadTabFocus&&(_toggleClass(trigger,config.classes.tabFocus,!1),_toggleClass(target,config.classes.tabFocus,!0))},100)}}function checkFocus(){var focused=document.activeElement;focused&&focused!=document.body?document.querySelector&&(focused=document.querySelector(":focus")):focused=null;for(var button in plyr.buttons){var element=plyr.buttons[button];if(element instanceof NodeList)for(var i=0;i<element.length;i++)_toggleClass(element[i],config.classes.tabFocus,element[i]===focused);else _toggleClass(element,config.classes.tabFocus,element===focused)}}var inputEvent=plyr.browser.isIE?"change":"input";_on(window,"keyup",function(event){var code=event.keyCode?event.keyCode:event.which;9==code&&checkFocus()}),_on(document.body,"click",function(){_toggleClass(_getElement("."+config.classes.tabFocus),config.classes.tabFocus,!1)});for(var button in plyr.buttons){var element=plyr.buttons[button];_on(element,"blur",function(){_toggleClass(element,"tab-focus",!1)})}_proxyListener(plyr.buttons.play,"click",config.listeners.play,_togglePlay),_proxyListener(plyr.buttons.pause,"click",config.listeners.pause,_togglePlay),_proxyListener(plyr.buttons.restart,"click",config.listeners.restart,_seek),_proxyListener(plyr.buttons.rewind,"click",config.listeners.rewind,_rewind),_proxyListener(plyr.buttons.forward,"click",config.listeners.forward,_forward),_proxyListener(plyr.buttons.seek,inputEvent,config.listeners.seek,_seek),_proxyListener(plyr.volume.input,inputEvent,config.listeners.volume,function(){_setVolume(plyr.volume.input.value)}),_proxyListener(plyr.buttons.mute,"click",config.listeners.mute,_toggleMute),_proxyListener(plyr.buttons.fullscreen,"click",config.listeners.fullscreen,_toggleFullscreen),fullscreen.supportsFullScreen&&_on(document,fullscreen.fullScreenEventName,_toggleFullscreen),_on(plyr.buttons.captions,"click",_toggleCaptions),_on(plyr.progress.container,"mouseenter mouseleave mousemove",_updateSeekTooltip),config.hideControls&&(_on(plyr.container,"mouseenter mouseleave mousemove enterfullscreen",_toggleControls),_on(plyr.controls,"mouseenter mouseleave",function(event){plyr.controls.active="mouseenter"===event.type}),_on(plyr.controls,"focus blur",_toggleControls,!0)),_on(plyr.volume.input,"wheel",function(event){event.preventDefault();var inverted=event.webkitDirectionInvertedFromDevice;(event.deltaY<0||event.deltaX>0)&&(inverted?_decreaseVolume():_increaseVolume()),(event.deltaY>0||event.deltaX<0)&&(inverted?_increaseVolume():_decreaseVolume())})}function _mediaListeners(){if(_on(plyr.media,"timeupdate seeking",_timeUpdate),_on(plyr.media,"timeupdate",_seekManualCaptions),_on(plyr.media,"durationchange loadedmetadata",_displayDuration),_on(plyr.media,"ended",function(){"video"===plyr.type&&_setCaption(),_checkPlaying(),_seek(0),_displayDuration(),"video"===plyr.type&&config.showPosterOnEnd&&plyr.media.load()}),_on(plyr.media,"progress playing",_updateProgress),_on(plyr.media,"volumechange",_updateVolume),_on(plyr.media,"play pause",_checkPlaying),_on(plyr.media,"waiting canplay seeked",_checkLoading),config.clickToPlay&&"audio"!==plyr.type){var wrapper=_getElement("."+config.classes.videoWrapper);if(!wrapper)return;wrapper.style.cursor="pointer",_on(wrapper,"click",function(){return plyr.browser.touch&&!plyr.media.paused?void _toggleControls(!0):void(plyr.media.paused?_play():plyr.media.ended?(_seek(),_play()):_pause())})}config.disableContextMenu&&_on(plyr.media,"contextmenu",function(event){event.preventDefault()}),_on(plyr.media,config.events.join(" "),function(event){_triggerEvent(plyr.container,event.type,!0)})}function _cancelRequests(){if(_inArray(config.types.html5,plyr.type)){for(var sources=plyr.media.querySelectorAll("source"),i=0;i<sources.length;i++)_remove(sources[i]);plyr.media.setAttribute("src","data:video/mp4;base64,AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAAGm1kYXQAAAGzABAHAAABthBgUYI9t+8AAAMNbW9vdgAAAGxtdmhkAAAAAMXMvvrFzL76AAAD6AAAACoAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAABhpb2RzAAAAABCAgIAHAE/////+/wAAAiF0cmFrAAAAXHRraGQAAAAPxcy++sXMvvoAAAABAAAAAAAAACoAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAgAAAAIAAAAAAG9bWRpYQAAACBtZGhkAAAAAMXMvvrFzL76AAAAGAAAAAEVxwAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAABaG1pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAShzdGJsAAAAxHN0c2QAAAAAAAAAAQAAALRtcDR2AAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAgACABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAAXmVzZHMAAAAAA4CAgE0AAQAEgICAPyARAAAAAAMNQAAAAAAFgICALQAAAbABAAABtYkTAAABAAAAASAAxI2IAMUARAEUQwAAAbJMYXZjNTMuMzUuMAaAgIABAgAAABhzdHRzAAAAAAAAAAEAAAABAAAAAQAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAAUc3RzegAAAAAAAAASAAAAAQAAABRzdGNvAAAAAAAAAAEAAAAsAAAAYHVkdGEAAABYbWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAraWxzdAAAACOpdG9vAAAAG2RhdGEAAAABAAAAAExhdmY1My4yMS4x"),plyr.media.load(),_log("Cancelled network requests for old media")}}function _destroy(){if(!plyr.init)return null;if(plyr.container.setAttribute("class",_getClassname(config.selectors.container)),plyr.init=!1,_remove(_getElement(config.selectors.controls.wrapper)),"youtube"===plyr.type)return void plyr.embed.destroy();"video"===plyr.type&&(_remove(_getElement(config.selectors.captions)),_unwrap(plyr.videoContainer)),_toggleNativeControls(!0);var clone=plyr.media.cloneNode(!0);plyr.media.parentNode.replaceChild(clone,plyr.media)}function _init(){if(plyr.init)return null;if(fullscreen=_fullscreen(),plyr.browser=_browserSniff(),plyr.media=plyr.container.querySelectorAll("audio, video")[0],plyr.media||(plyr.media=plyr.container.querySelectorAll("[data-type]")[0]),plyr.media){plyr.originalClassName=plyr.container.className;var tagName=plyr.media.tagName.toLowerCase();if("div"===tagName?(plyr.type=plyr.media.getAttribute("data-type"),plyr.embedId=plyr.media.getAttribute("data-video-id"),plyr.media.removeAttribute("data-type"),plyr.media.removeAttribute("data-video-id")):(plyr.type=tagName,config.crossorigin=null!==plyr.media.getAttribute("crossorigin"),config.autoplay=config.autoplay||null!==plyr.media.getAttribute("autoplay"),config.loop=config.loop||null!==plyr.media.getAttribute("loop")),plyr.supported=supported(plyr.type),_toggleStyleHook(),!plyr.supported.basic)return!1;if(_log(plyr.browser.name+" "+plyr.browser.version),_setupMedia(),_inArray(config.types.html5,plyr.type)){if(!plyr.supported.full)return void(plyr.init=!0);_setupInterface(),_setTitle(),config.autoplay&&_play()}plyr.init=!0}}function _setupInterface(){if(!plyr.supported.full)return _log("No full support for this media type ("+plyr.type+")",!0),_remove(_getElement(config.selectors.controls.wrapper)),_remove(_getElement(config.selectors.buttons.play)),void _toggleNativeControls(!0);var controlsMissing=!_getElements(config.selectors.controls.wrapper).length;controlsMissing&&_injectControls(),_findElements()&&(controlsMissing&&_controlListeners(),_mediaListeners(),_toggleNativeControls(),_setupFullscreen(),_setupCaptions(),_setVolume(),_updateVolume(),_timeUpdate(),_checkPlaying(),_displayDuration(),_triggerEvent(plyr.container,"ready",!0))}var plyr=this;return plyr.container=container,plyr.timers={},_log(config),_init(),plyr.init?{media:plyr.media,play:_play,pause:_pause,restart:_seek,rewind:_rewind,forward:_forward,seek:_seek,source:_source,poster:_updatePoster,setVolume:_setVolume,togglePlay:_togglePlay,toggleMute:_toggleMute,toggleCaptions:_toggleCaptions,toggleFullscreen:_toggleFullscreen,toggleControls:_toggleControls,isFullscreen:function(){return plyr.isFullscreen||!1},support:function(mimeType){return _supportMime(plyr,mimeType)},destroy:_destroy,restore:_init}:{}}function loadSprite(url,id){var x=new XMLHttpRequest;("string"!=typeof id||null===document.querySelector("#"+id))&&"withCredentials"in x&&(x.open("GET",url,!0),x.onload=function(){var c=document.createElement("div");c.setAttribute("hidden",""),"string"==typeof id&&c.setAttribute("id",id),c.innerHTML=x.responseText,document.body.insertBefore(c,document.body.childNodes[0])},x.send())}function supported(type){var basic,full,browser=_browserSniff(),oldIE=browser.isIE&&browser.version<=9,iPhone=/iPhone|iPod/i.test(navigator.userAgent),audio=!!document.createElement("audio").canPlayType,video=!!document.createElement("video").canPlayType;switch(type){case"video":basic=video,full=basic&&!oldIE&&!iPhone;break;case"audio":basic=audio,full=basic&&!oldIE;break;case"vimeo":case"youtube":case"soundcloud":basic=!0,full=!oldIE&&!iPhone;break;default:basic=audio&&video,full=basic&&!oldIE}return{basic:basic,full:full}}function setup(targets,options){var elements=[],containers=[],selector=[defaults.selectors.html5,defaults.selectors.embed].join(",");if("string"==typeof targets?targets=document.querySelectorAll(targets):targets instanceof HTMLElement?targets=[targets]:targets instanceof NodeList||"string"==typeof targets||("undefined"==typeof options&&"object"==typeof targets&&(options=targets),targets=document.querySelectorAll(selector)),!supported().basic||!targets.length)return!1;targets instanceof NodeList&&(targets=Array.prototype.slice.call(targets));for(var i=0;i<targets.length;i++){var target=targets[i],children=target.querySelectorAll(selector);if(children.length>1)for(var x=0;x<children.length;x++)containers.push({element:_wrap(children[x],document.createElement("div")),original:target});else containers.push({element:target})}for(var key in containers){var element=containers[key].element,original=containers[key].original||element;if(_matches(element,selector)&&(element=_wrap(element,document.createElement("div"))),!("plyr"in element)){var config=_extend({},defaults,options,JSON.parse(original.getAttribute("data-plyr")));if(!config.enabled)return null;var instance=new Plyr(element,config);element.plyr=Object.keys(instance).length?instance:!1,_triggerEvent(original,"setup",!0,{plyr:element.plyr})}elements.push(element)}return elements}var fullscreen,scroll={x:0,y:0},defaults={enabled:!0,debug:!1,autoplay:!1,loop:!1,seekTime:10,volume:5,volumeMin:0,volumeMax:10,volumeStep:1,duration:null,displayDuration:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/1.8.2/plyr.svg",clickToPlay:!0,hideControls:!0,showPosterOnEnd:!1,disableContextMenu:!0,tooltips:{controls:!1,seek:!0},selectors:{html5:"video, audio",embed:"[data-type]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{seek:'[data-plyr="seek"]',play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',forward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',fullscreen:'[data-plyr="fullscreen"]'},volume:{input:'[data-plyr="volume"]',display:".plyr__volume--display"},progress:{container:".plyr__progress",buffer:".plyr__progress--buffer",played:".plyr__progress--played"},captions:".plyr__captions",currentTime:".plyr__time--current",duration:".plyr__time--duration"},classes:{videoWrapper:"plyr__video-wrapper",embedWrapper:"plyr__video-embed",type:"plyr--{0}",stopped:"plyr--stopped",playing:"plyr--playing",muted:"plyr--muted",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isIos:"plyr--is-ios",isTouch:"plyr--is-touch",captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",active:"plyr--fullscreen-active"},tabFocus:"tab-focus"},captions:{defaultActive:!1},fullscreen:{enabled:!0,fallback:!0,allowAudio:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","fullscreen"],i18n:{restart:"Restart",rewind:"Rewind {seektime} secs",play:"Play",pause:"Pause",forward:"Forward {seektime} secs",played:"played",buffered:"buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",toggleMute:"Toggle Mute",toggleCaptions:"Toggle Captions",toggleFullscreen:"Toggle Fullscreen",frameTitle:"Player for {title}"},types:{embed:["youtube","vimeo","soundcloud"],html5:["video","audio"]},urls:{vimeo:{api:"https://cdn.plyr.io/froogaloop/1.0.1/plyr.froogaloop.js"},youtube:{api:"https://www.youtube.com/iframe_api"},soundcloud:{api:"https://w.soundcloud.com/player/api.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,forward:null,mute:null,volume:null,captions:null,fullscreen:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","emptied"]};return{setup:setup,supported:supported,loadSprite:loadSprite}}),function(){function CustomEvent(event,params){params=params||{bubbles:!1,cancelable:!1,detail:void 0};var evt=document.createEvent("CustomEvent");return evt.initCustomEvent(event,params.bubbles,params.cancelable,params.detail),evt}return"function"==typeof window.CustomEvent?!1:(CustomEvent.prototype=window.Event.prototype,void(window.CustomEvent=CustomEvent))}();
